@import "@xyflow/react/dist/style.css";
@import "tailwindcss";

/* Defines the application's color palette and theming using CSS variables.
  - Light mode variables are defined in :root.
  - Dark mode variables are defined in .dark.
  - This centralized approach ensures consistency and makes future theme adjustments easy.
*/
@layer base {
    :root {
        /* Surface Colors - for backgrounds */
        --color-surface-1: #ffffff; /* Main background */
        --color-surface-2: #f8fafc; /* Slightly off-white for cards, nodes */
        --color-surface-3: #f1f5f9; /* Muted surfaces, like input backgrounds */

        /* Text Colors */
        --color-text-1: #0f172a; /* Primary text */
        --color-text-2: #475569; /* Secondary, less important text */
        --color-text-3: #64748b; /* Muted or placeholder text */

        /* Border Colors */
        --color-border-1: #e2e8f0; /* Default border */
        --color-border-2: #cbd5e1; /* Stronger/interactive border */

        /* Interactive Accent Colors */
        --color-accent: #4f46e5; /* Primary accent (Indigo) */
        --color-accent-hover: #4338ca; /* Accent hover */
        --color-accent-text: #ffffff; /* Text on top of accent color */

        /* Node & Edge Specific */
        --color-node-header: #f8fafc;
        --color-node-header-text: var(--color-text-1);
        --color-edge: #94a3b8;
        --color-edge-selected: var(--color-accent);

        --color-note-surface: #fefce8; /* Yellow-50 */
        --color-note-border: #fde047; /* Yellow-400 */
        --color-note-text: #854d0e; /* Yellow-800 */

        --color-danger-surface: #fef2f2; /* Red-50 */
        --color-danger-border: #ef4444; /* Red-500 */
        --color-danger-text: #b91c1c; /* Red-700 */
    }

    .dark {
        /* Surface Colors */
        --color-surface-1: #020617; /* Main background */
        --color-surface-2: #0f172a; /* Node backgrounds */
        --color-surface-3: #1e293b; /* Muted surfaces */

        /* Text Colors */
        --color-text-1: #f8fafc; /* Primary text */
        --color-text-2: #94a3b8; /* Secondary text */
        --color-text-3: #64748b; /* Muted/placeholder text */

        /* Border Colors */
        --color-border-1: #1e293b; /* Default border */
        --color-border-2: #334155; /* Stronger/interactive border */

        /* Interactive Accent Colors */
        --color-accent: #6366f1; /* Primary accent (Indigo) */
        --color-accent-hover: #818cf8; /* Accent hover */
        --color-accent-text: #ffffff; /* Text on top of accent color */

        /* Node & Edge Specific */
        --color-node-header: #1e293b;
        --color-node-header-text: var(--color-text-1);
        --color-edge: #475569;
        --color-edge-selected: var(--color-accent);

        --color-note-surface: #423d1d;
        --color-note-border: #a18a07;
        --color-note-text: #fef08a;

        --color-danger-surface: #450a0a;
        --color-danger-border: #f87171; /* Red-400 */
        --color-danger-text: #fecaca; /* Red-200 */
    }

    /* Apply a smooth transition to color changes for a polished feel */
    body,
    .react-flow__node,
    .react-flow__edge,
    button,
    input,
    select {
        transition:
            background-color 0.2s ease-in-out,
            color 0.2s ease-in-out,
            border-color 0.2s ease-in-out;
    }

    .react-flow__edge.selected .react-flow__edge-path {
        stroke: var(--color-edge-selected);
        stroke-width: 2.5;
    }

    .react-flow__handle {
        width: 0.5rem !important;
        height: 0.5rem !important;
    }
}

.react-flow__node.selected > div {
    outline: 2px solid var(--color-accent) !important;
    outline-offset: 2px;
    box-shadow: 0 0 12px 0px var(--color-accent) !important;
}

/* This is the override for the selected edge */
.react-flow__edge.selected .react-flow__edge-path {
    stroke-width: 3 !important; /* A nice, visible width */
}
